# وثيقة حالات الاستخدام (Use Cases) للمنتج الأولي القابل للتطبيق (MVP)

## 1. مقدمة

هذه الوثيقة تحدد بالتفصيل جميع حالات الاستخدام للمنصة البيطرية في نسختها الأولية (MVP). كل حالة استخدام تصف تفاعلًا محددًا بين أحد المستخدمين (Actors) والنظام لتحقيق هدف معين.

**المستخدمون (Actors):**
- **المستخدم العام (Public User):** أي زائر للموقع قبل تسجيل الدخول
- **المشتري (Buyer):** طبيب بيطري، مدير عيادة، أو مدير مزرعة مسجل ومُفعّل
- **البائع (Seller):** مورد أو شركة أدوية مسجلة ومُفعّلة
- **المسؤول (Admin):** مدير المنصة

---

## 2. حالات استخدام المستخدم العام (Public User)

### UC-001: تسجيل حساب جديد (مشتري)
**الهدف:** إنشاء حساب مشتري جديد على المنصة
**المستخدم:** المستخدم العام
**الشروط المسبقة:** لا يوجد

**التدفق الأساسي:**
1. المستخدم يضغط على زر "تسجيل حساب جديد"
2. النظام يعرض نموذج التسجيل
3. المستخدم يختار "مشتري" كنوع الحساب
4. المستخدم يملأ البيانات المطلوبة:
   - الاسم الكامل
   - البريد الإلكتروني
   - كلمة المرور
   - تأكيد كلمة المرور
   - رقم الهاتف
   - اسم العيادة/المزرعة
   - العنوان
5. المستخدم يوافق على الشروط والأحكام
6. المستخدم يضغط على "إنشاء حساب"
7. النظام يتحقق من صحة البيانات
8. النظام ينشئ الحساب بحالة "في انتظار الموافقة"
9. النظام يرسل رسالة تأكيد للبريد الإلكتروني
10. النظام يعرض رسالة نجاح

**التدفقات البديلة:**
- إذا كان البريد الإلكتروني مستخدم مسبقاً، النظام يعرض رسالة خطأ
- إذا كانت كلمة المرور ضعيفة، النظام يطلب كلمة مرور أقوى
- إذا لم تتطابق كلمة المرور مع التأكيد، النظام يعرض رسالة خطأ

### UC-002: تسجيل حساب جديد (بائع)
**الهدف:** إنشاء حساب بائع جديد على المنصة
**المستخدم:** المستخدم العام
**الشروط المسبقة:** لا يوجد

**التدفق الأساسي:**
1. المستخدم يضغط على زر "تسجيل حساب جديد"
2. النظام يعرض نموذج التسجيل
3. المستخدم يختار "بائع" كنوع الحساب
4. المستخدم يملأ البيانات المطلوبة:
   - اسم الشركة
   - اسم المسؤول
   - البريد الإلكتروني
   - كلمة المرور
   - تأكيد كلمة المرور
   - رقم الهاتف
   - رقم السجل التجاري
   - عنوان الشركة
5. المستخدم يوافق على الشروط والأحكام
6. المستخدم يضغط على "إنشاء حساب"
7. النظام يتحقق من صحة البيانات
8. النظام ينشئ الحساب بحالة "في انتظار الموافقة"
9. النظام يرسل رسالة تأكيد للبريد الإلكتروني
10. النظام يعرض رسالة نجاح

### UC-003: تسجيل الدخول
**الهدف:** الدخول إلى الحساب الشخصي
**المستخدم:** المستخدم العام (لديه حساب مُفعّل)
**الشروط المسبقة:** وجود حساب مُفعّل على المنصة

**التدفق الأساسي:**
1. المستخدم يضغط على زر "تسجيل الدخول"
2. النظام يعرض نموذج تسجيل الدخول
3. المستخدم يدخل البريد الإلكتروني وكلمة المرور
4. المستخدم يضغط على "دخول"
5. النظام يتحقق من صحة البيانات
6. النظام يسجل دخول المستخدم
7. النظام يوجه المستخدم إلى لوحة التحكم المناسبة

**التدفقات البديلة:**
- إذا كانت البيانات خاطئة، النظام يعرض رسالة خطأ
- إذا كان الحساب غير مُفعّل، النظام يعرض رسالة توضيحية

### UC-004: استعادة كلمة المرور
**الهدف:** استعادة كلمة المرور المنسية
**المستخدم:** المستخدم العام
**الشروط المسبقة:** وجود حساب مسجل على المنصة

**التدفق الأساسي:**
1. المستخدم يضغط على "نسيت كلمة المرور"
2. النظام يعرض نموذج استعادة كلمة المرور
3. المستخدم يدخل البريد الإلكتروني
4. المستخدم يضغط على "إرسال"
5. النظام يتحقق من وجود البريد الإلكتروني
6. النظام يرسل رابط إعادة تعيين كلمة المرور
7. النظام يعرض رسالة تأكيد الإرسال

### UC-005: تصفح المنتجات (بدون تسجيل دخول)
**الهدف:** عرض المنتجات المتاحة للمستخدمين غير المسجلين
**المستخدم:** المستخدم العام
**الشروط المسبقة:** لا يوجد

**التدفق الأساسي:**
1. المستخدم يزور الصفحة الرئيسية
2. النظام يعرض الفئات الرئيسية للمنتجات
3. المستخدم يضغط على فئة معينة
4. النظام يعرض قائمة المنتجات في هذه الفئة
5. المستخدم يضغط على منتج معين
6. النظام يعرض تفاصيل المنتج الأساسية (بدون أسعار)
7. النظام يعرض رسالة تطلب تسجيل الدخول لرؤية الأسعار

---

## 3. حالات استخدام المشتري (Buyer)

### UC-006: عرض لوحة التحكم الرئيسية
**الهدف:** عرض ملخص حساب المشتري
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يسجل دخوله
2. النظام يعرض لوحة التحكم الرئيسية
3. النظام يعرض:
   - ملخص الطلبات الأخيرة
   - المنتجات المميزة
   - إشعارات مهمة (إن وجدت)

### UC-007: البحث عن المنتجات
**الهدف:** العثور على منتجات محددة
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يدخل كلمة البحث في صندوق البحث
2. المشتري يضغط على زر البحث
3. النظام يبحث في قاعدة البيانات
4. النظام يعرض نتائج البحث مع:
   - صورة المنتج
   - اسم المنتج
   - السعر
   - اسم البائع
5. المشتري يمكنه ترتيب النتائج حسب السعر أو الاسم

**التدفقات البديلة:**
- إذا لم توجد نتائج، النظام يعرض رسالة "لا توجد منتجات"

### UC-008: تصفية المنتجات حسب الفئة
**الهدف:** عرض منتجات فئة محددة
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على فئة معينة من القائمة الرئيسية
2. النظام يعرض جميع المنتجات في هذه الفئة
3. النظام يعرض لكل منتج:
   - صورة المنتج
   - اسم المنتج
   - السعر
   - اسم البائع
4. المشتري يمكنه ترتيب المنتجات

### UC-009: عرض تفاصيل المنتج
**الهدف:** عرض معلومات مفصلة عن منتج محدد
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على منتج من قائمة المنتجات
2. النظام يعرض صفحة تفاصيل المنتج تحتوي على:
   - صورة المنتج (أو عدة صور)
   - اسم المنتج
   - الوصف التفصيلي
   - السعر
   - الكمية المتاحة
   - معلومات البائع
   - مواصفات المنتج
3. النظام يعرض زر "إضافة إلى العربة"

### UC-010: إضافة منتج إلى عربة التسوق
**الهدف:** إضافة منتج للشراء لاحقاً
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري، وجود المنتج في المخزون

**التدفق الأساسي:**
1. المشتري في صفحة تفاصيل المنتج
2. المشتري يحدد الكمية المطلوبة
3. المشتري يضغط على "إضافة إلى العربة"
4. النظام يتحقق من توفر الكمية
5. النظام يضيف المنتج إلى عربة التسوق
6. النظام يعرض رسالة تأكيد
7. النظام يحدث عداد العربة في الشريط العلوي

**التدفقات البديلة:**
- إذا كانت الكمية المطلوبة غير متوفرة، النظام يعرض رسالة خطأ

### UC-011: عرض عربة التسوق
**الهدف:** مراجعة المنتجات المضافة للعربة
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على أيقونة عربة التسوق
2. النظام يعرض صفحة عربة التسوق تحتوي على:
   - قائمة بجميع المنتجات المضافة
   - صورة ومعلومات كل منتج
   - الكمية والسعر لكل منتج
   - إجمالي السعر
3. النظام يعرض أزرار:
   - تعديل الكمية
   - حذف المنتج
   - متابعة التسوق
   - إتمام الطلب

### UC-012: تعديل عربة التسوق
**الهدف:** تغيير كمية المنتجات أو حذفها من العربة
**المستخدم:** المشتري
**الشروط المسبقة:** وجود منتجات في العربة

**التدفق الأساسي:**
1. المشتري في صفحة عربة التسوق
2. المشتري يغير كمية منتج معين أو يضغط على "حذف"
3. النظام يحدث العربة
4. النظام يعيد حساب الإجمالي
5. النظام يعرض العربة المحدثة

### UC-013: إتمام الطلب (Checkout)
**الهدف:** إنهاء عملية الشراء وإنشاء طلب
**المستخدم:** المشتري
**الشروط المسبقة:** وجود منتجات في العربة

**التدفق الأساسي:**
1. المشتري يضغط على "إتمام الطلب" من عربة التسوق
2. النظام يعرض صفحة إتمام الطلب
3. النظام يعرض ملخص الطلب (المنتجات والأسعار)
4. المشتري يختار أو يؤكد عنوان الشحن
5. المشتري يختار طريقة الدفع:
   - دفع عند الاستلام
   - تحويل بنكي
   - دفع إلكتروني (Paymob)
6. المشتري يراجع تفاصيل الطلب
7. المشتري يضغط على "تأكيد الطلب"
8. النظام ينشئ الطلب برقم فريد
9. النظام يفرغ عربة التسوق
10. النظام يعرض صفحة تأكيد الطلب
11. النظام يرسل إشعار للبائع

### UC-014: عرض سجل الطلبات
**الهدف:** مراجعة الطلبات السابقة والحالية
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على "طلباتي" من القائمة
2. النظام يعرض قائمة بجميع طلبات المشتري
3. لكل طلب، النظام يعرض:
   - رقم الطلب
   - تاريخ الطلب
   - حالة الطلب
   - إجمالي المبلغ
   - اسم البائع
4. المشتري يمكنه الضغط على طلب لعرض التفاصيل

### UC-015: عرض تفاصيل طلب محدد
**الهدف:** مراجعة تفاصيل طلب معين
**المستخدم:** المشتري
**الشروط المسبقة:** وجود طلبات للمشتري

**التدفق الأساسي:**
1. المشتري يضغط على طلب من قائمة الطلبات
2. النظام يعرض تفاصيل الطلب:
   - رقم الطلب وتاريخه
   - حالة الطلب
   - قائمة المنتجات المطلوبة
   - كمية وسعر كل منتج
   - عنوان الشحن
   - طريقة الدفع
   - إجمالي المبلغ

### UC-016: إدارة الملف الشخصي
**الهدف:** تعديل معلومات الحساب الشخصي
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على "الملف الشخصي" من القائمة
2. النظام يعرض نموذج تعديل المعلومات
3. المشتري يعدل المعلومات المطلوبة:
   - الاسم
   - رقم الهاتف
   - اسم العيادة/المزرعة
   - العنوان
4. المشتري يضغط على "حفظ التغييرات"
5. النظام يحدث المعلومات
6. النظام يعرض رسالة تأكيد

### UC-017: إدارة عناوين الشحن
**الهدف:** إضافة أو تعديل عناوين الشحن
**المستخدم:** المشتري
**الشروط المسبقة:** تسجيل دخول المشتري

**التدفق الأساسي:**
1. المشتري يضغط على "عناوين الشحن" من الملف الشخصي
2. النظام يعرض قائمة العناوين الحالية
3. المشتري يمكنه:
   - إضافة عنوان جديد
   - تعديل عنوان موجود
   - حذف عنوان
   - تحديد عنوان افتراضي
4. النظام يحفظ التغييرات

---

## 4. حالات استخدام البائع (Seller)

### UC-018: عرض لوحة تحكم البائع
**الهدف:** عرض ملخص حساب البائع
**المستخدم:** البائع
**الشروط المسبقة:** تسجيل دخول البائع

**التدفق الأساسي:**
1. البائع يسجل دخوله
2. النظام يعرض لوحة تحكم البائع
3. النظام يعرض:
   - إحصائيات المبيعات الأساسية
   - الطلبات الجديدة
   - المنتجات منخفضة المخزون
   - إشعارات مهمة

### UC-019: إضافة منتج جديد
**الهدف:** إضافة منتج جديد للبيع على المنصة
**المستخدم:** البائع
**الشروط المسبقة:** تسجيل دخول البائع

**التدفق الأساسي:**
1. البائع يضغط على "إضافة منتج جديد"
2. النظام يعرض نموذج إضافة المنتج
3. البائع يملأ المعلومات المطلوبة:
   - اسم المنتج
   - الوصف
   - السعر
   - الكمية المتاحة
   - الفئة
   - صور المنتج
4. البائع يضغط على "حفظ المنتج"
5. النظام يحفظ المنتج
6. النظام يعرض رسالة تأكيد

### UC-020: إدارة المنتجات
**الهدف:** عرض وتعديل المنتجات الموجودة
**المستخدم:** البائع
**الشروط المسبقة:** تسجيل دخول البائع

**التدفق الأساسي:**
1. البائع يضغط على "منتجاتي"
2. النظام يعرض قائمة بجميع منتجات البائع
3. لكل منتج، النظام يعرض:
   - صورة المنتج
   - اسم المنتج
   - السعر
   - الكمية المتاحة
   - حالة المنتج (نشط/غير نشط)
4. البائع يمكنه:
   - تعديل منتج
   - حذف منتج
   - تفعيل/إلغاء تفعيل منتج

### UC-021: تعديل منتج موجود
**الهدف:** تحديث معلومات منتج موجود
**المستخدم:** البائع
**الشروط المسبقة:** وجود منتجات للبائع

**التدفق الأساسي:**
1. البائع يضغط على "تعديل" بجانب منتج معين
2. النظام يعرض نموذج التعديل مع البيانات الحالية
3. البائع يعدل المعلومات المطلوبة
4. البائع يضغط على "حفظ التغييرات"
5. النظام يحدث معلومات المنتج
6. النظام يعرض رسالة تأكيد

### UC-022: عرض الطلبات الواردة
**الهدف:** مراجعة الطلبات الجديدة والحالية
**المستخدم:** البائع
**الشروط المسبقة:** تسجيل دخول البائع

**التدفق الأساسي:**
1. البائع يضغط على "الطلبات" من القائمة
2. النظام يعرض قائمة بجميع الطلبات الواردة
3. لكل طلب، النظام يعرض:
   - رقم الطلب
   - اسم المشتري
   - تاريخ الطلب
   - حالة الطلب
   - إجمالي المبلغ
4. البائع يمكنه الضغط على طلب لعرض التفاصيل

### UC-023: إدارة حالة الطلب
**الهدف:** تحديث حالة الطلبات الواردة
**المستخدم:** البائع
**الشروط المسبقة:** وجود طلبات للبائع

**التدفق الأساسي:**
1. البائع يضغط على طلب من قائمة الطلبات
2. النظام يعرض تفاصيل الطلب
3. النظام يعرض الحالة الحالية للطلب
4. البائع يغير حالة الطلب إلى:
   - قيد المراجعة
   - تم التأكيد
   - قيد التحضير
   - تم الشحن
   - مكتمل
5. البائع يضغط على "تحديث الحالة"
6. النظام يحفظ الحالة الجديدة
7. النظام يرسل إشعار للمشتري

### UC-024: إدارة الملف الشخصي للبائع
**الهدف:** تعديل معلومات حساب البائع
**المستخدم:** البائع
**الشروط المسبقة:** تسجيل دخول البائع

**التدفق الأساسي:**
1. البائع يضغط على "الملف الشخصي"
2. النظام يعرض نموذج تعديل معلومات الشركة
3. البائع يعدل المعلومات:
   - اسم الشركة
   - معلومات الاتصال
   - العنوان
   - وصف الشركة
4. البائع يضغط على "حفظ التغييرات"
5. النظام يحدث المعلومات

---

## 5. حالات استخدام المسؤول (Admin)

### UC-025: عرض لوحة تحكم المسؤول
**الهدف:** عرض إحصائيات عامة عن المنصة
**المستخدم:** المسؤول
**الشروط المسبقة:** تسجيل دخول المسؤول

**التدفق الأساسي:**
1. المسؤول يسجل دخوله
2. النظام يعرض لوحة التحكم الرئيسية
3. النظام يعرض إحصائيات:
   - عدد المستخدمين المسجلين
   - عدد الطلبات اليومية/الشهرية
   - إجمالي المبيعات
   - عدد المنتجات على المنصة
   - الحسابات في انتظار الموافقة

### UC-026: إدارة المستخدمين
**الهدف:** عرض وإدارة جميع حسابات المستخدمين
**المستخدم:** المسؤول
**الشروط المسبقة:** تسجيل دخول المسؤول

**التدفق الأساسي:**
1. المسؤول يضغط على "إدارة المستخدمين"
2. النظام يعرض قائمة بجميع المستخدمين
3. لكل مستخدم، النظام يعرض:
   - الاسم
   - البريد الإلكتروني
   - نوع الحساب (مشتري/بائع)
   - حالة الحساب (نشط/معطل/في انتظار الموافقة)
   - تاريخ التسجيل
4. المسؤول يمكنه:
   - الموافقة على حساب جديد
   - تعطيل حساب
   - تفعيل حساب معطل
   - عرض تفاصيل المستخدم

### UC-027: الموافقة على الحسابات الجديدة
**الهدف:** مراجعة والموافقة على طلبات إنشاء الحسابات
**المستخدم:** المسؤول
**الشروط المسبقة:** وجود حسابات في انتظار الموافقة

**التدفق الأساسي:**
1. المسؤول يضغط على "الحسابات المعلقة"
2. النظام يعرض قائمة بالحسابات في انتظار الموافقة
3. المسؤول يضغط على حساب للمراجعة
4. النظام يعرض تفاصيل الحساب المطلوب
5. المسؤول يراجع المعلومات
6. المسؤول يختار:
   - الموافقة على الحساب
   - رفض الحساب مع سبب الرفض
7. النظام ينفذ القرار
8. النظام يرسل إشعار للمستخدم

### UC-028: إدارة فئات المنتجات
**الهدف:** إضافة وتعديل فئات المنتجات الرئيسية
**المستخدم:** المسؤول
**الشروط المسبقة:** تسجيل دخول المسؤول

**التدفق الأساسي:**
1. المسؤول يضغط على "إدارة الفئات"
2. النظام يعرض قائمة بالفئات الحالية
3. المسؤول يمكنه:
   - إضافة فئة جديدة
   - تعديل اسم فئة موجودة
   - حذف فئة (إذا لم تحتوي على منتجات)
   - ترتيب الفئات
4. النظام يحفظ التغييرات

### UC-029: مراقبة المنتجات
**الهدف:** عرض ومراقبة جميع المنتجات على المنصة
**المستخدم:** المسؤول
**الشروط المسبقة:** تسجيل دخول المسؤول

**التدفق الأساسي:**
1. المسؤول يضغط على "جميع المنتجات"
2. النظام يعرض قائمة بجميع المنتجات
3. لكل منتج، النظام يعرض:
   - اسم المنتج
   - اسم البائع
   - السعر
   - الفئة
   - حالة المنتج
4. المسؤول يمكنه:
   - البحث عن منتجات محددة
   - تصفية المنتجات حسب البائع أو الفئة
   - إخفاء منتج مخالف

### UC-030: مراقبة الطلبات
**الهدف:** عرض ومتابعة جميع الطلبات على المنصة
**المستخدم:** المسؤول
**الشروط المسبقة:** تسجيل دخول المسؤول

**التدفق الأساسي:**
1. المسؤول يضغط على "جميع الطلبات"
2. النظام يعرض قائمة بجميع الطلبات
3. لكل طلب، النظام يعرض:
   - رقم الطلب
   - اسم المشتري
   - اسم البائع
   - تاريخ الطلب
   - حالة الطلب
   - إجمالي المبلغ
4. المسؤول يمكنه:
   - البحث عن طلبات محددة
   - تصفية الطلبات حسب الحالة أو التاريخ
   - عرض تفاصيل أي طلب

---

## 6. ملخص حالات الاستخدام

| رقم الحالة | اسم الحالة | المستخدم | الأولوية |
|------------|------------|----------|----------|
| UC-001 | تسجيل حساب جديد (مشتري) | المستخدم العام | عالية |
| UC-002 | تسجيل حساب جديد (بائع) | المستخدم العام | عالية |
| UC-003 | تسجيل الدخول | المستخدم العام | عالية |
| UC-004 | استعادة كلمة المرور | المستخدم العام | متوسطة |
| UC-005 | تصفح المنتجات (بدون تسجيل) | المستخدم العام | متوسطة |
| UC-006 | عرض لوحة التحكم الرئيسية | المشتري | عالية |
| UC-007 | البحث عن المنتجات | المشتري | عالية |
| UC-008 | تصفية المنتجات حسب الفئة | المشتري | عالية |
| UC-009 | عرض تفاصيل المنتج | المشتري | عالية |
| UC-010 | إضافة منتج إلى عربة التسوق | المشتري | عالية |
| UC-011 | عرض عربة التسوق | المشتري | عالية |
| UC-012 | تعديل عربة التسوق | المشتري | عالية |
| UC-013 | إتمام الطلب (Checkout) | المشتري | عالية |
| UC-014 | عرض سجل الطلبات | المشتري | عالية |
| UC-015 | عرض تفاصيل طلب محدد | المشتري | متوسطة |
| UC-016 | إدارة الملف الشخصي | المشتري | متوسطة |
| UC-017 | إدارة عناوين الشحن | المشتري | متوسطة |
| UC-018 | عرض لوحة تحكم البائع | البائع | عالية |
| UC-019 | إضافة منتج جديد | البائع | عالية |
| UC-020 | إدارة المنتجات | البائع | عالية |
| UC-021 | تعديل منتج موجود | البائع | عالية |
| UC-022 | عرض الطلبات الواردة | البائع | عالية |
| UC-023 | إدارة حالة الطلب | البائع | عالية |
| UC-024 | إدارة الملف الشخصي للبائع | البائع | متوسطة |
| UC-025 | عرض لوحة تحكم المسؤول | المسؤول | عالية |
| UC-026 | إدارة المستخدمين | المسؤول | عالية |
| UC-027 | الموافقة على الحسابات الجديدة | المسؤول | عالية |
| UC-028 | إدارة فئات المنتجات | المسؤول | متوسطة |
| UC-029 | مراقبة المنتجات | المسؤول | متوسطة |
| UC-030 | مراقبة الطلبات | المسؤول | متوسطة |

---

## 7. خاتمة

هذه الوثيقة تحدد 30 حالة استخدام أساسية للمنتج الأولي القابل للتطبيق (MVP) للمنصة البيطرية. هذه الحالات تغطي جميع التفاعلات الأساسية المطلوبة لتشغيل منصة B2B فعالة، مع التركيز على البساطة والوظائف الأساسية.

الحالات ذات الأولوية العالية يجب تنفيذها في المرحلة الأولى، بينما يمكن إضافة الحالات ذات الأولوية المتوسطة في مراحل لاحقة حسب ملاحظات المستخدمين ومتطلبات السوق.
